autoload -U compinit colors vcs_info
colors
compinit

# Report command running time if it is more than 3 seconds
REPORTTIME=3
# Keep a lot of history
HISTFILE=~/.zhistory
HISTSIZE=5000
SAVEHIST=5000
# Add commands to history as they are entered, don't wait for shell to exit
setopt INC_APPEND_HISTORY
# Also remember command start time and duration
setopt EXTENDED_HISTORY
# Do not keep duplicate commands in history
setopt HIST_IGNORE_ALL_DUPS
# Do not remember commands that start with a whitespace
setopt HIST_IGNORE_SPACE
# Correct spelling of all arguments in the command line
setopt CORRECT_ALL
# Enable autocompletion
zstyle ':completion:*' completer _complete _correct _approximate 

zstyle ':vcs_info:*' stagedstr '%F{green}●%f '
zstyle ':vcs_info:*' unstagedstr '%F{yellow}●%f '
zstyle ':vcs_info:git:*' check-for-changes true
zstyle ':vcs_info:git*' formats "%F{blue}%b%f %u%c"

_setup_ps1() {
  vcs_info
  GLYPH="▲"
  [ "x$KEYMAP" = "xvicmd" ] && GLYPH="▼"
  PS1=" %(?.%F{blue}.%F{red})$GLYPH%f %(1j.%F{cyan}[%j]%f .)%F{blue}%~%f %(!.%F{red}#%f .)"
  RPROMPT="$vcs_info_msg_0_"
}
_setup_ps1

export PATH="$PATH":"$HOME/.pub-cache/bin"

export PROJECTS_DIR="/mnt/stuff/projects"
export GAMES_DIR="/mnt/games"
export EDITOR="nano"
export VISUAL="vscodium -r"

export ZSH_AUTOSUGGEST_USE_ASYNC=true

alias cls="clear"
alias 'git commit'='git commit -m'
alias gc='git commit -m'
alias ls="lsd --group-dirs first"
alias l="ls"
alias la="lsd -la --group-dirs first"
alias cpwd="pwd | xclip -sel CLIP"
alias cdp="cd $PROJECTS_DIR"
alias mkd="mkdir -pv"
alias md="mkd"
alias df="df -h"
alias free="free -m"

alias e="$EDITOR"
alias ee="$VISUAL"
alias cp="cp -i"                                                # Confirm before overwriting something
alias df='df -h'                                                # Human-readable sizes
alias free='free -m'                                            # Show sizes in MB
alias gitu='git add . && git commit && git push'

source /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
source /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh
